<!DOCTYPE html>
<html>

<head>
	<title>Joystick Controls</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<style>
	body
	{
		font-family: Courier, monospaced;
		font-size: 16px;
		font-weight: bold;
	}
	img {
		/* ignore touch events */
		touch-action: none;
	}
	</style>
	<script src="js/joystick_controller.js"></script>
</head>

<body>

Joystick Controls.
<hr>
<div id="stick1_status" style="color: red;">Joystick 1</div>
<div id="stick2_status" style="color: blue;">Joystick 2</div>
<div id="stick3_status" style="color: green;">Joystick 2</div>

<hr>
<div style="width: 128px; position: absolute; left:64px; top:150px;">
	<img src="images/joystick-base-horizontal.png"/>
	<div id="stick1" style="position: absolute; left:32px; top:32px;">
	<img src="images/joystick-red.png"/>		
	</div>
</div>

<div style="width: 128px; position: absolute; left:310px; top:150px;">
	<img src="images/joystick-base-vertical.png"/>
	<div id="stick2" style="position: absolute; left:32px; top:32px;">
	<img src="images/joystick-blue.png"/>		
	</div>
</div>

<div style="width: 128px; position: absolute; left:64px; top:340px;">
	<img src="images/joystick-base.png"/>
	<div id="stick3" style="position: absolute; left:32px; top:32px;">
	<img src="images/joystick-green.png"/>		
	</div>
</div>

<script>

const joysticks = [
	new JoystickController("stick1", 64, 8, 'horizontal'),
	new JoystickController("stick2", 64, 8, 'vertical'),
	new JoystickController("stick3", 64, 8)
]

function update()
{
	for (const joystick of joysticks) {
		document.getElementById(joystick.id + '_status').innerText = `Joystick "${joystick.id}": ${JSON.stringify(joystick.value)}`;
	}
}

function loop()
{
	requestAnimationFrame(loop);
	update();
}

loop();

</script>

</body>
</html>