<!DOCTYPE html>
<html>

<head>
	<title>Joystick Controls</title>
	<style>
	body
	{
		font-family: Courier, monospaced;
		font-size: 16px;
		font-weight: bold;
	}
	img {
		/* ignore touch events */
		touch-action: none;
	}
	</style>
	<script src="js/joystick_controller.js"></script>
</head>

<body>

Joystick Controls.
<hr>
<div id="stick1_status" style="color: red;">Joystick 1</div>
<div id="stick2_status" style="color: blue;">Joystick 2</div>

<hr>
<div style="border: 1px solid red; width: 128px; position: absolute; left:10px; top:150px;">
	<img src="images/joystick-base.png"/>
	<div id="stick1" style="position: absolute; left:32px; top:32px;">
	<img src="images/joystick-red.png"/>		
	</div>
</div>

<div style="border: 1px solid blue; width: 128px; position: absolute; left:210px; top:150px;">
	<img src="images/joystick-base.png"/>
	<div id="stick2" style="position: absolute; left:32px; top:32px;">
	<img src="images/joystick-blue.png"/>		
	</div>
</div>

<script>

const joysticks = [
	new JoystickController("stick1", 64, 8),
	new JoystickController("stick2", 64, 8)
]

function update()
{
	for (const joystick of joysticks) {
		document.getElementById(joystick.id + '_status').innerText = `Joystick "${joystick.id}": ${JSON.stringify(joystick.value)}`;
	}
}

function loop()
{
	requestAnimationFrame(loop);
	update();
}

loop();

</script>

</body>
</html>